{% extends 'base.html' %}
{% block title %}Apply for Loan - Smart Loan{% endblock %}

{% block content %}
<div class="min-h-screen py-8">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header Section -->
        <div class="text-center mb-12 animate-fade-in">
            <div class="w-24 h-24 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-3xl flex items-center justify-center mx-auto mb-6 animate-float">
                <i class="fas fa-file-alt text-white text-3xl"></i>
            </div>
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Apply for a <span class="gradient-text">New Loan</span>
            </h1>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                Submit your loan application with our streamlined process and get pre-approved faster
            </p>
        </div>

        <!-- Coming Soon Card -->
        <div class="card-modern rounded-3xl p-12 text-center animate-slide-in-left">
            <div class="w-32 h-32 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-8">
                <i class="fas fa-tools text-yellow-600 text-4xl animate-pulse-slow"></i>
            </div>
            
            <h2 class="text-2xl font-bold text-gray-900 mb-4">Feature Coming Soon!</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
                We're working hard to bring you a comprehensive loan application system. 
                In the meantime, you can use our loan prediction tool to check your eligibility.
            </p>

            <!-- Progress Indicator -->
            <div class="mb-8">
                <div class="flex justify-center items-center space-x-4 mb-4">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-check text-white text-xs"></i>
                        </div>
                        <span class="ml-2 text-sm text-gray-600">Design Complete</span>
                    </div>
                    <div class="w-8 h-0.5 bg-green-500"></div>
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center animate-pulse">
                            <i class="fas fa-cog text-white text-xs"></i>
                        </div>
                        <span class="ml-2 text-sm text-gray-600">Development</span>
                    </div>
                    <div class="w-8 h-0.5 bg-gray-300"></div>
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                            <i class="fas fa-rocket text-gray-500 text-xs"></i>
                        </div>
                        <span class="ml-2 text-sm text-gray-600">Launch</span>
                    </div>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full animate-pulse" style="width: 65%"></div>
                </div>
                <p class="text-sm text-gray-500 mt-2">65% Complete</p>
            </div>

            <!-- What's Coming -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100">
                    <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-form text-white"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">Smart Application Form</h3>
                    <p class="text-sm text-gray-600">Intelligent form that adapts based on your loan type and requirements</p>
                </div>

                <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100">
                    <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-upload text-white"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">Document Upload</h3>
                    <p class="text-sm text-gray-600">Secure document upload with automatic verification and processing</p>
                </div>

                <div class="bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl p-6 border border-purple-100">
                    <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-clock text-white"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">Real-time Status</h3>
                    <p class="text-sm text-gray-600">Track your application status in real-time with notifications</p>
                </div>

                <div class="bg-gradient-to-br from-orange-50 to-red-50 rounded-2xl p-6 border border-orange-100">
                    <div class="w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-handshake text-white"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">Lender Matching</h3>
                    <p class="text-sm text-gray-600">Automatically match with the best lenders based on your profile</p>
                </div>
            </div>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="{{ url_for('routes.predict_loan') }}" 
                   class="btn-gradient text-white px-8 py-4 rounded-xl font-semibold text-lg hover-lift btn-ripple">
                    <i class="fas fa-brain mr-2"></i>Check Eligibility First
                </a>
                <button onclick="notifyMe()" 
                        class="bg-white text-gray-700 px-8 py-4 rounded-xl font-semibold text-lg border-2 border-gray-200 hover:border-orange-300 hover:text-orange-600 transition-all duration-300 hover-lift">
                    <i class="fas fa-bell mr-2"></i>Notify When Ready
                </button>
            </div>
        </div>

        <!-- Alternative Options -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12">
            <!-- Loan Prediction -->
            <div class="card-modern rounded-2xl p-8 hover-lift animate-on-scroll">
                <div class="flex items-start space-x-4">
                    <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-blue-600 rounded-2xl flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-calculator text-white text-xl"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Loan Prediction</h3>
                        <p class="text-gray-600 mb-4">
                            Use our AI-powered tool to predict loan default chances
                        </p>
                        <a href="{{ url_for('routes.predict_loan') }}" 
                           class="inline-flex items-center text-blue-600 font-semibold hover:text-blue-700 transition-colors">
                            Try Prediction Tool
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Contact Support -->
            <div class="card-modern rounded-2xl p-8 hover-lift animate-on-scroll">
                <div class="flex items-start space-x-4">
                    <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-headset text-white text-xl"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Need Assistance?</h3>
                        <p class="text-gray-600 mb-4">
                            Our loan specialists are ready to help you with your application process
                        </p>
                        <button onclick="contactSupport()" 
                                class="inline-flex items-center text-purple-600 font-semibold hover:text-purple-700 transition-colors">
                            Contact Support
                            <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Newsletter Signup -->
        <!--<div class="card-modern rounded-3xl p-8 mt-12 animate-on-scroll">
            <div class="text-center">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">Stay Updated</h3>
                <p class="text-gray-600 mb-6">
                    Be the first to know when our loan application feature goes live
                </p>
                <div class="max-w-md mx-auto">
                    <div class="flex space-x-3">
                        <input type="email" 
                               placeholder="Enter your email address" 
                               class="flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300">
                        <button onclick="subscribeNewsletter()" 
                                class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-300 hover-lift">
                            Subscribe
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">
                        We'll only send you important updates. No spam, ever.
                    </p>
                </div>
            </div>
        </div>-->

        <!-- FAQ Section -->
        <!--<div class="mt-16">
            <h2 class="text-2xl font-bold text-gray-900 text-center mb-8">Frequently Asked Questions</h2>
            <div class="space-y-4">
                <div class="faq-item card-modern rounded-2xl p-6 cursor-pointer hover-lift" onclick="toggleFaq(0)">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-semibold text-gray-900">When will the loan application feature be available?</h3>
                        <i class="fas fa-chevron-down text-gray-400 transition-transform transform faq-icon"></i>
                    </div>
                    <div class="faq-answer hidden mt-4 text-gray-600">
                        We're working diligently to launch the loan application feature in the coming months. 
                        Subscribe to our newsletter to be notified as soon as it's available.
                    </div>
                </div>

                <div class="faq-item card-modern rounded-2xl p-6 cursor-pointer hover-lift" onclick="toggleFaq(1)">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-semibold text-gray-900">What types of loans will be available?</h3>
                        <i class="fas fa-chevron-down text-gray-400 transition-transform transform faq-icon"></i>
                    </div>
                    <div class="faq-answer hidden mt-4 text-gray-600">
                        We'll support various loan types including personal loans, mortgages, auto loans, 
                        and business loans with competitive rates from multiple lenders.
                    </div>
                </div>

                <div class="faq-item card-modern rounded-2xl p-6 cursor-pointer hover-lift" onclick="toggleFaq(2)">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-semibold text-gray-900">Can I use the prediction tool in the meantime?</h3>
                        <i class="fas fa-chevron-down text-gray-400 transition-transform transform faq-icon"></i>
                    </div>
                    <div class="faq-answer hidden mt-4 text-gray-600">
                        Absolutely! Our loan prediction tool is fully functional and can help you understand 
                        your approval chances before the application feature launches.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>-->

<!-- Notification Modal -->
<!--<div id="notificationModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50">
    <div class="bg-white rounded-3xl p-8 max-w-md w-full mx-4 animate-fade-in">
        <div class="text-center">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-bell text-green-500 text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-4">Get Notified</h3>
            <p class="text-gray-600 mb-6">
                Enter your email to receive updates when the loan application feature is ready
            </p>
            <div class="space-y-4">
                <input type="email" id="notifyEmail"
                       placeholder="your@email.com" 
                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300">
                <div class="flex space-x-3">
                    <button onclick="closeNotificationModal()" 
                            class="flex-1 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors">
                        Cancel
                    </button>
                    <button onclick="submitNotification()" 
                            class="flex-1 px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-medium transition-colors">
                        Notify Me
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>-->

{% block extra_js %}
<script>
    // Notification modal functions
    function notifyMe() {
        document.getElementById('notificationModal').classList.remove('hidden');
        document.getElementById('notificationModal').classList.add('flex');
    }

    function closeNotificationModal() {
        document.getElementById('notificationModal').classList.add('hidden');
        document.getElementById('notificationModal').classList.remove('flex');
    }

    function submitNotification() {
        const email = document.getElementById('notifyEmail').value;
        if (!email) {
            alert('Please enter your email address');
            return;
        }
        
        // Here you would typically send the email to your backend
        alert('Thank you! We\'ll notify you when the feature is ready.');
        closeNotificationModal();
        document.getElementById('notifyEmail').value = '';
    }

    // Newsletter subscription
    function subscribeNewsletter() {
        const emailInput = document.querySelector('input[type="email"]');
        const email = emailInput.value;
        
        if (!email) {
            alert('Please enter your email address');
            return;
        }
        
        // Here you would typically send the email to your backend
        alert('Thank you for subscribing! We\'ll keep you updated.');
        emailInput.value = '';
    }

    // Contact support
    function contactSupport() {
        alert('Our support team will be in touch soon! You can also email us at support@smartloan.com');
    }

    // FAQ toggle functionality
    function toggleFaq(index) {
        const faqItems = document.querySelectorAll('.faq-item');
        const item = faqItems[index];
        const answer = item.querySelector('.faq-answer');
        const icon = item.querySelector('.faq-icon');
        
        if (answer.classList.contains('hidden')) {
            answer.classList.remove('hidden');
            answer.classList.add('animate-fade-in');
            icon.style.transform = 'rotate(180deg)';
        } else {
            answer.classList.add('hidden');
            icon.style.transform = 'rotate(0deg)';
        }
    }

    // Close modal on escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeNotificationModal();
        }
    });

    // Close modal on backdrop click
    document.getElementById('notificationModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeNotificationModal();
        }
    });

    // Animate progress bar on load
    window.addEventListener('load', function() {
        const progressBar = document.querySelector('.bg-gradient-to-r');
        progressBar.style.width = '0%';
        setTimeout(() => {
            progressBar.style.transition = 'width 2s ease-in-out';
            progressBar.style.width = '65%';
        }, 500);
    });

    // Enhanced hover effects
    document.querySelectorAll('.hover-lift').forEach(element => {
        element.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px) scale(1.02)';
        });
        
        element.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
</script>
{% endblock %}
{% endblock %}
